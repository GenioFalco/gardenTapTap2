# Исправление системы валют

## Проблема
В коде использовались старые названия и неправильные ID валют, что приводило к ошибкам в системе обмена валют.

## Реальные данные валют в базе:
```
1  Монеты   main   /assets/currencies/garden_coin.png
2  Брёвна   forest /assets/currencies/wood.png
3  Грязь    dirt   /assets/currencies/dirt.png
4  Сорняки  weed   /assets/currencies/weed.png
5  Зерно    farm   /assets/currencies/grain.png
```

## Исправления:

### 1. Обновлена карта валют в `server/db.js`:
```javascript
// Старая карта (неправильная)
const currencyMap = {
  'main': 5,
  'forest': 1,
  'garden': 2,
  'winter': 3,
  'mountain': 4,
  'desert': 6,
  'lake': 7
};

// Новая карта (правильная)
const currencyMap = {
  'main': 1,     // Монеты
  'forest': 2,   // Брёвна
  'dirt': 3,     // Грязь
  'weed': 4,     // Сорняки
  'farm': 5      // Зерно
};
```

### 2. Обновлены константы CurrencyType:
```javascript
const CurrencyType = {
  MAIN: 1,   // ID валюты "Монеты"
  FOREST: 2, // ID валюты "Брёвна"
  DIRT: 3,   // ID валюты "Грязь"
  WEED: 4,   // ID валюты "Сорняки"
  FARM: 5    // ID валюты "Зерно"
};
```

### 3. Исправлены все места в коде где использовались неправильные ID:
- Создание начальных ресурсов пользователя
- Система наград и достижений
- Обмен валют
- Покупка энергии
- Заказ услуг
- Система хранилища

### 4. Обновлены значения по умолчанию:
- Основная валюта (монеты): ID = 1 (было 5)
- Валюта леса (брёвна): ID = 2 (было 1)

## Результат:
Теперь система валют работает корректно с реальными данными из базы данных, и обмен валют должен функционировать правильно. 